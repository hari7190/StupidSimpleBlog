<div class="container justify">
    <h3>Voice Control for TV</h3>

    <p>
        What better to do when your little baby puts your TV remote in a glass of water.
    </p>

    <h4>Overview</h4>
    <p>
        This is a super simple implementation using Google speech APIs and a Roku TV. You can
        use any language. I am using Python today. My objective was to control my Roku TV. I actually
        tried capturing network traffic from my TV Remote App to TV to find the commands. An easier
        and better way to do is reading Roku documentation !! They explained it pretty well there.
    </p>

    <h5>Environment</h5>
    <p>
        <ul>
            <li>Create a environment of Python 3.6 with Anaconda.</li>
            <li>Brew install Portaudio. (Security aspects TBD)</li>
            <li>Then Pip install pyaudio.</li>
            <li>Get speech_recognition and requests lib (if you are making requests that way)</li>
        </ul>
    </p>

    <h5>Logic</h5>
    <p>
        <ul>
            <li>Setup variables for sampling rate, chunk size and mic name. I used following values.
                Sampling rate : 44100  <br>
                Chunk Size : 3096<br>
                I was using built in mic so name was 'Built-in Microphone'.<br>
                You can find the name using either : system_profiler SPAudioDataType or<br>
                system_profiler SPUSBDataType to find usb audio devices like dedicated mics.
            </li>
            <li>
                Put out a console message indicating program is ready to listen.
            </li>
            <li>
                Sample the input and use speech recognition library to reach out to Google
                to get it processed and convert that to text.
            </li>
            <li>
                Pick up the resulting text and look for what you want in there. I looked for
                if starting with 'roku' and ending with one of the commands like 'play'.
            </li>
            <li>
                After this its pretty much basic if-else logic and logging. Then use requests
                library to make a http post call to TV according to text. It will be like<br>
                $ curl -d '' http://192.168.XXX.X:8060/keypress/XXXXX
            </li>
        </ul>
    </p>

    <p>
        <h5>Code</h5>
        <a href="https://github.com/hari7190/VoiceControlledRokuTv" class="gitHubLink">
            GitHub Repo here.
        </a>
    </p>
</div>